# vim学习及配置

## 相关模式

- **正常模式**：在文件中四处移动光标进行修改

- **插入模式**：插入文本

- **替换模式**：替换文本

- **可视化模式**（一般，行，块）：选中文本块

- **命令模式**：用于执行命令

  按下 `<ESC>`从任何其他模式返回正常模式。

  在正常模式， `i` 进入插入 模式

  `R` 进入替换模式

  `v` 进入可视（一般）模式，`V` 进入可视（行）模式，`<C-v>` （Ctrl-V, 有时也写作 `^V`）进入可视（块）模式

  - 按大写V键选择整行，或按小写V键选择光标所在位置。
  - 使用h、j、k或l将光标移动到要切割的地方
  - 按y键复制，按dd键剪切。
  - 把光标放在你想粘贴复制的东西的地方。
  - 按大写P在光标之前粘贴，或按小写P在光标之后粘贴。
  
  `:` 进入命令模式。

### 移动

- 屏幕： `H` （屏幕首行）， `M` （屏幕中间）， `L` （屏幕底部）
- 翻页： `Ctrl-u` （上翻）， `Ctrl-d` （下翻）
- 文件： `gg` （文件头）， `G` （文件尾）
- 行数：  `{行数}G` 
- 杂项： `%` （找到配对，比如括号或者 /* */ 之类的注释对）

### 搜索和替换

`:s` （替换）命令（[文档](http://vim.wikia.com/wiki/Search_and_replace)）。

- ```plaintext
  %s/foo/bar/g
  ```

  - 在整个文件中将 foo 全局替换成 bar

- ```plaintext
  %s/\[.*\](\(.*\))/\1/g
  ```

  - 将有命名的 Markdown 链接替换成简单 URLs

### 多窗口

- 用 `:sp` / `:vsp` 来分割窗口
- 同一个缓存可以在多个窗口中显示。

## 配件

### coc

coc.nvim <ctrl>+p去切换补全内容

GoTo code navigation： gd 

enter确定

### 目录树

ctrl+n

ctrl + w + h    光标 focus 左侧树形目录

 ctrl + w + l    光标 focus 右侧文件显示窗口 

ctrl + w + w    光标自动在左右侧窗口切换 

ctrl + w + r    移动当前窗口的布局位置

 o       在已有窗口中打开文件、目录或书签，并跳到该窗口 

go      在已有窗口 中打开文件、目录或书签，但不跳到该窗口 

t       在新 Tab 中打开选中文件/书签，并跳到新 Tab 

T       在新 Tab 中打开选中文件/书签，但不跳到新 Tab

 i       split 一个新窗口打开选中文件，并跳到该窗口 

gi      split 一个新窗口打开选中文件，但不跳到该窗口 

s       vsplit 一个新窗口打开选中文件，并跳到该窗口 

gs      vsplit 一个新 窗口打开选中文件，但不跳到该窗口 

!       执行当前文件

 O       递归打开选中 结点下的所有目录 

x       合拢选中结点的父目录

 X       递归 合拢选中结点下的所有目录 

e       Edit the current dif 

双击    相当于 NERDTree-o 

中键    对文件相当于 NERDTree-i，对目录相当于 NERDTree-e 

D       删除当前书签 

P       跳到根结点 

p       跳到父结点

 K       跳到当前目录下同级的第一个结点

 J       跳到当前目录下同级的最后一个结点 

k       跳到当前目录下同级的前一个结点 

j       跳到当前目录下同级的后一个结点 

C       将选中目录或选中文件的父目录设为根结点

u       将当前根结点的父目录设为根目录，并变成合拢原根结点

U       将当前根结点的父目录设为根目录，但保持展开原根结点

 r       递归刷新选中目录 

R       递归刷新根结点

 m       显示文件系统菜单 

cd      将 CWD 设为选中目录

 I       切换是否显示隐藏文件

 f       切换是否使用文件过滤器 

F       切换是否显示文件 

B       切换是否显示书签

q       关闭 NerdTree 窗口

 ?       切换是否显示 Quick Help

  :tabnew [++opt选项] ［＋cmd］ 文件      建立对指定文件新的tab

 :tabc   关闭当前的 tab

 :tabo   关闭所有其他的 tab

 :tabs   查看所有打开的 tab

 :tabp   前一个 tab

 :tabn   后一个 tab

### leaderF

常用的命令 `:LeaderfFile`搜索当前目录下的文件 `:LeaderfBuffer`搜索当前的Buffer `:LeaderfMru` 搜索最近使用过的文件( search most recently used files)就是Mru

`:LeaderfLine` 搜索当前文件中有的某个单词

`:LeaderfFunction` 搜索当前文件的函数

[vim常用插件](https://zhuanlan.zhihu.com/p/145793963)